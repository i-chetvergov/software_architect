### 6. Требования

#### 6.1. Функциональные требования (FR)

- **FR-01. Управление пользователями и устройствами**  
  Платформа должна обеспечивать регистрацию, управление профилями и устройствами пользователей, включая интеграцию с корпоративными каталогами (AD/LDAP).

- **FR-02. Голосовая связь и телефония**  
  Платформа должна поддерживать исходящие и входящие голосовые вызовы через SIP-транки и WebRTC-клиентов, а также базовые функции телефонии (удержание, перевод, конференция, голосовая почта).

- **FR-03. Видеоконференции и совместная работа**  
  Платформа должна предоставлять сервис многопользовательских аудио-/видеоконференций с возможностью совместного экрана и чата конференции.

- **FR-04. Обмен сообщениями (чат)**  
  Платформа должна обеспечивать обмен текстовыми и мультимедийными сообщениями между пользователями и группами, с историей чатов и поиском.

- **FR-05. Presence и статусы пользователей**  
  Платформа должна предоставлять актуальную информацию о статусе доступности пользователей (online, busy, away и т.п.) и использовать её в сценариях маршрутизации вызовов и сообщений.

- **FR-06. Интеграция с бизнес-системами**  
  Платформа должна предоставлять API/вебхуки для интеграции с CRM, Service Desk, ERP и другими системами (отображение карточки клиента, клик-ту-колл, логирование коммуникаций).

- **FR-07. Запись разговоров и хранение записей**  
  Платформа должна поддерживать запись голосовых вызовов и конференций с хранением и управлением доступом к записям.

- **FR-08. Биллинг и CDR**  
  Платформа должна собирать CDR-записи по всем сеансам связи и предоставлять данные для биллинга и аналитики.

- **FR-09. Нотификации**  
  Платформа должна отправлять уведомления пользователям и интеграциям (email, SMS, push и др.) о событиях (пропущенные вызовы, приглашения на конференции, системные алерты).

- **FR-10. Административный интерфейс и API**  
  Платформа должна предоставлять административный интерфейс и/или API для управления конфигурацией, политиками, номерами, ролями и правами.

#### 6.2. Нефункциональные требования (NFR)

- **NFR-01. Масштабируемость**  
  Платформа должна поддерживать масштабирование до не менее чем 50 000 активных пользователей с возможностью горизонтального масштабирования отдельных микросервисов.

- **NFR-02. Доступность**  
  Целевой SLA для основных коммуникационных сервисов (регистрация, исходящие/входящие вызовы, чат) — не ниже 99.9 % в год.

- **NFR-03. Производительность**  
  - Среднее время установления вызова (от нажатия «Позвонить» до получения сигнала вызова) не должно превышать 3 секунд в нормальных условиях.
  - Задержка доставки чат-сообщений между пользователями в пределах одного региона не должна превышать 1 секунды в 95 % случаев.

- **NFR-04. Безопасность**  
  - Все внешние соединения должны быть защищены TLS.  
  - Для пользовательской и сервисной аутентификации должны использоваться стандарты OAuth2.1/OIDC.  
  - Внутрисервисное взаимодействие должно быть защищено посредством mTLS и централизованного управления сертификатами.

- **NFR-05. Наблюдаемость**  
  Платформа должна генерировать метрики, логи и трассировки, достаточные для анализа производительности и поиска причин инцидентов; должна быть обеспечена корреляция событий по единому trace-id.

- **NFR-06. Отказоустойчивость и восстановление**  
  Платформа должна выдерживать отказ одного узла кластера без потери доступности ключевых сервисов; время восстановления при частичном отказе не должно превышать 5 минут.

- **NFR-07. Сопровождаемость**  
  Архитектура должна позволять независимое развертывание и обновление микросервисов без простоя системы в целом, при наличии автоматизированных тестов и пайплайнов CI/CD.

- **NFR-08. Совместимость и расширяемость**  
  Платформа должна использовать стандартизованные протоколы и форматы данных, обеспечивающие возможность подключения дополнительных клиентов и интеграций без изменения базовой архитектуры.

- **NFR-09. Конфиденциальность и соответствие**  
  Платформа должна обеспечивать разграничение доступа к записям, CDR и логам, а также поддержку политики хранения (retention) и удаления данных в соответствии с требованиями регуляторов и внутренними нормативами.

Указанные требования служат основой для формирования сценариев использования (см. раздел `7. Пользовательские сценарии`) и сценариев атрибутов качества (см. раздел `8. Сценарии атрибутов качества`), а также для фиксации архитектурных решений в ADR.