# Контекст системы

**Проект:** Корпоративная платформа унифицированных коммуникаций  
(**Unified Communications, UC**)

---

## Введение

Настоящий раздел описывает контекст проектируемой UC-платформы:
ключевые группы стейкхолдеров и их ожидания, внешние системы и интеграционные контуры,
а также границы системы как архитектурный контракт.

Контекст системы используется для уточнения области ответственности платформы,
входных/выходных интеграционных интерфейсов и допущений, а также служит основой
для построения диаграмм уровня **C4 Context** и **C4 Containers**.

Целевые бизнес-метрики и KPI фиксируются отдельным документом
в разделе **«Бизнес-цели»** и не дублируются в настоящем разделе.

---

## Стейкхолдеры и их ожидания

### Бизнес-заказчик (CIO / Head of Digital)

**Роль:**  
Отвечает за цифровую трансформацию, эффективность корпоративных коммуникаций
и оптимизацию совокупной стоимости владения ИТ-ландшафтом.

**Ожидания / потребности:**
- консолидация коммуникационного ландшафта и уменьшение зависимости от набора разрозненных решений;
- повышение управляемости и прозрачности затрат на коммуникационную инфраструктуру;
- ускорение вывода новых цифровых каналов и сервисов, связанных с коммуникациями;
- обеспечение соответствия требованиям безопасности и регуляторного контроля.

**Критерии результата (качественно):**
- платформа позволяет централизованно управлять коммуникациями и их политиками;
- коммуникационные сервисы поддерживают корпоративный уровень доступности;
- интеграции и развитие функциональности происходят контролируемо и предсказуемо.

---

### Руководители бизнес-подразделений

**Роль:**  
Отвечают за продуктивность команд, качество обслуживания клиентов
и эффективность внутренних процессов.

**Ожидания / потребности:**
- единый пользовательский опыт коммуникаций с доступом к бизнес-контексту;
- поддержка омниканальных сценариев взаимодействия с клиентами и подразделениями;
- снижение нагрузки на сотрудников за счёт автоматизации рутинных операций;
- сокращение времени обучения и адаптации новых сотрудников.

**Критерии результата (качественно):**
- коммуникации доступны в едином интерфейсе и встроены в рабочие процессы;
- контекст коммуникаций не теряется и доступен в бизнес-системах;
- типовые сценарии взаимодействия стандартизированы.

---

### Служба эксплуатации и информационной безопасности

**Роль:**  
Отвечает за надёжность, безопасность, управляемость и соответствие
регуляторным требованиям.

**Ожидания / потребности:**
- единая модель IAM, централизованное управление доступом и аудит действий;
- наблюдаемость: метрики, логи, трассировки, корреляция событий;
- управляемые процедуры реагирования на инциденты и восстановление;
- интеграция с существующими инструментами эксплуатации и ИБ (SIEM/APM/NMS).

**Критерии результата (качественно):**
- платформа предоставляет единый контур мониторинга и контроля;
- критичные операции и события безопасности доступны для аудита;
- эксплуатационные процессы поддерживаются архитектурой (SLO/SLA, DR/BCP).

---

### Конечные пользователи

**Роль:**  
Ежедневно используют коммуникационные сервисы
в рамках операционной деятельности.

**Ожидания / потребности:**
- единый и предсказуемый пользовательский интерфейс коммуникаций;
- быстрый доступ к контактам, истории взаимодействий и статусам (presence);
- наличие коммуникаций в привычных сценариях работы (CRM, Service Desk);
- мобильность и кроссплатформенность (Web/Mobile/Desktop).

**Критерии результата (качественно):**
- коммуникации доступны “из одного места” без переключения между инструментами;
- качество связи и доставки сообщений соответствует корпоративным ожиданиям;
- клиентские приложения устойчивы к изменениям сети и устройств.

---

### Внешние партнёры и интеграторы

**Роль:**  
Разрабатывают и сопровождают интеграции UC-платформы
с внешними системами и каналами.

**Ожидания / потребности:**
- стандартизированные, стабильные и версионируемые интерфейсы интеграции;
- документация API, примеры, тестовые контуры;
- предсказуемый жизненный цикл контрактов (backward compatibility);
- поддержка распространённых механизмов интеграции (REST, Webhooks, Events).

**Критерии результата (качественно):**
- интеграции реализуются на контрактной модели (API/Events) без “ручных договорённостей”;
- существуют среды/механизмы для независимого тестирования интеграций;
- управление версиями и изменениями API формализовано.

---

## Внешние системы и интеграции

### Корпоративные каталоги и IAM

**Системы:**  
Active Directory / LDAP, корпоративные IdP (OIDC / SAML)

**Тип интеграции:**  
OIDC / SAML 2.0 (SSO, федерация идентичностей)

**Ключевые требования:**
- поддержка MFA;
- синхронизация пользователей и групп;
- централизованная авторизация и управление политиками доступа.

---

### Бизнес-системы

**Системы:**  
CRM, ERP, Service Desk, HRM

**Тип интеграции:**  
REST API, Webhooks, асинхронные события

**Ключевые требования:**
- предоставление бизнес-контекста при коммуникациях;
- логирование взаимодействий (сообщения/вызовы/конференции) в бизнес-системах;
- синхронизация контактов и календарей (при наличии соответствующих источников данных).

---

### Операторские сети и PSTN

**Системы:**  
SIP-транки операторов, SBC, телефонная нумерация

**Тип интеграции:**  
SIP через пограничный контур (SIP Edge / SBC)

**Ключевые требования:**
- защита и нормализация SIP-трафика;
- защита от DDoS и SIP-флуда;
- поддержка межсетевого взаимодействия и транскодирования (при необходимости).

---

### Клиентские приложения

**Типы:**  
Web, Mobile, Desktop, аппаратные SIP-устройства, ВКС-терминалы

**Тип интеграции:**  
WebRTC / WebTransport / SIP / REST (в зависимости от типа клиента)

**Ключевые требования:**
- кроссплатформенность;
- минимизация задержек и поддержка real-time режимов;
- адаптация к изменяющемуся качеству сети.

---

### Системы мониторинга и логирования

**Системы:**  
SIEM, APM, NMS, корпоративные лог-платформы

**Тип интеграции:**  
Экспорт метрик, логов и трассировок (OpenTelemetry, Prometheus, Syslog)

**Ключевые требования:**
- централизованный сбор метрик производительности и бизнес-метрик;
- агрегация логов для аудита и анализа;
- распределённая трассировка для диагностики инцидентов.

---

## Организационный и технологический контекст

### Организационный контекст

Проект реализуется в условиях организационной среды со следующими характеристиками:

- **Поэтапная консолидация:** переход от разрозненных коммуникационных систем к единой платформе должен осуществляться поэтапно;
- **Фокус на управляемости:** повышение прозрачности, стандартизация процессов администрирования и эксплуатации;
- **Цифровая трансформация:** интеграция коммуникаций в бизнес-процессы как элемент развития корпоративного ИТ-ландшафта.

---

### Технологический контекст

Проектирование UC-платформы ведётся с учётом следующих технологических условий:

- **Гибридная инфраструктура:** поддержка смешанного размещения (on-premise + cloud) для гибкости развёртывания;
- **Контейнеризация:** ориентация на Kubernetes и контейнерную модель как базовый стандарт платформенного развёртывания;
- **Открытые стандарты:** использование открытых протоколов (SIP, WebRTC, OIDC, REST/gRPC) для снижения vendor lock-in;
- **Legacy-совместимость:** необходимость интеграции с существующими системами и поддержка миграции в переходный период.

---

## Границы системы

Границы системы определяют архитектурный контракт между UC-платформой
и внешним окружением, фиксируя ответственность и границы взаимодействия.

### Внутренняя граница (UC Platform)

Внутри границы системы находятся следующие функциональные домены:

- **Периметр:** IAM и API Gateway (аутентификация, авторизация, маршрутизация запросов);
- **Сигнализация:** Call Control, SIP Edge (роль SBC), WebRTC Gateway (управление вызовами и мультимедийными сессиями);
- **Коммуникации:** Messaging, Presence, Media и Recording (сообщения, статусы, медиапотоки);
- **Платформа:** Provisioning, CDR/Billing, Notification (управление, учёт, уведомления);
- **Наблюдаемость:** Observability Stack (метрики, логи, трассировка).

Граница и внешние интеграции отражены на диаграмме **C4 Context**,
детализация внутренней структуры — на диаграмме **C4 Containers**.

---

### Внешний контекст

За пределами системы находятся:

- операторские сети и Интернет;
- корпоративные ИТ-системы;
- пользователи и эксплуатационный персонал.

---

### Граница системы как архитектурный контракт

Граница системы формализуется через следующие механизмы взаимодействия:

- **Внешние API:** REST/HTTP, Webhooks, WebSocket;
- **Протоколы:** SIP, WebRTC, OIDC/SAML, HTTP/HTTPS;
- **События:** event-driven интеграция через брокер сообщений (Kafka/RabbitMQ);
- **Форматы данных:** JSON, Protocol Buffers, CDR.

Архитектурный контракт гарантирует стабильность интерфейсов взаимодействия
и обеспечивает независимость развития внешних систем и UC-платформы.

---

## Связь с последующими разделами

Контекст системы является основой для:

- детализации бизнес-целей (см. раздел **«Бизнес-цели»**);
- определения архитектурных драйверов;
- фиксации ограничений;
- постановки требований;
- обоснования архитектурных решений и ADR.

Трассируемость контекста к архитектурным решениям обеспечивается
через архитектурные драйверы и фиксируется в соответствующих разделах
документации и ADR.